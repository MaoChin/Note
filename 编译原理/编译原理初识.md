# 编译原理初识

==编译程序(名词)==：把某一种==高级语言程序==等价地转换成另一种==低级语言程序== ( 如汇编语言或机器语言程序 ) 的程序。注意这也是一款软件程序！！和数据库程序，操作系统程序本质是一样的。

解释程序：把源语言写的源程序作为输入，但**不产生目标程序**，而是边解释边执行源程序本身。

## 1. 编译过程

1. 词法分析：输入源程序，对构成源程序的字符串进行扫描和分解，识别出一个个**单词符号**。

2. 语法分析：在词法分析的基础上，根据语言的语法规则把单词符号串分解成各类**语法单位**。

3. 语义分析产生中间代码：对各类不同语法单位按语言的语义进行初步翻译(**语义分析**)。生成中间代码，形式如：三元式，四元式，树形等。

4. 优化中间代码：对于前阶段产生的中间代码进行加工变换，以期在最后阶段**产生更高效的目标代码**。

5. 产生目标代码：把中间代码变换成特定机器上的目标代码。主要有三种类型：机器码(可直接运行)，可重定位指令代码(`.obj`目标文件)，汇编代码。

   ![image-20240228201341144](D:\MyNote\编译原理\编译原理初识.assets\image-20240228201341144.png)

## 2. 编译程序的结构模块

1. 编译过程
2. 表格与表格管理：就是对各个数据结构的管理。
3. 出错处理：当有语法错误，语义错误等时的处理方法。

##### 编译前端与编译后端

编译前端：与源语言有关，如词法分析，语法分析，语义分析与中间代码产生，与机器无关的优化。

编译后端：与目标机有关，与目标机有关的优化，目标代码产生。

## 3. 编译程序的生成

1. 用高级语言写编译程序。
2. 移植的方法生成
3. 只能用汇编/机器码书写时可以用 自展技术：先书写简单语言的编译程序，在用这个简单语言书写较难语言的编译程序，层层扩展。
4. ==编译程序自动生成==：如 `LEX` 词法分析程序产生器，`YACC` 语法分析程序产生器。

## 4. `Flex` && `Bison`

`Lex` -> `Flex`：词法分析器生成程序

`Yacc` -> `Bison`：语法分析器生成程序

`Flex`和`Bison`是Linux下常用的两款工具，`Flex`用于将输入的程序切分成一段一段的`token`，然后将生成的`tokens`可以喂给`Bison`处理

