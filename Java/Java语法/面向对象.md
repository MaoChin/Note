# 面向对象

## 1. 封装

## 2. 继承（`is-a`）

```java
// 继承
class Person{
 // ... 
}
class Student extends Person{
  // ...
}
```

隐藏：子类有和父类同名的 成员变量/方法 时子类优先使用自己的。若非要使用父类的变量/方法，就加上`super`关键字（`super.变量/方法`）。

`final`修饰的类不能被继承，修饰的方法不能被重写。`final`修饰普通变量还有 `const` 的意义。

`Java`没有多继承！！也就没有菱形继承（数据冗余，二义性，虚继承）。在`Java`中使用接口解决多继承的需求。

#### `super`关键字（和`this`有点像，但也不完全一样）

1. `super`.变量
2. `super`.方法
3. `super`()  ===》调用父类的构造函数，用于子类构造函数

#### 组合（`has-a`）

类的成员变量也是类。

#### 向上转型和向下转型

向上转型：子类的对象赋给父类的引用，切割/切片。（很自然）

向下转型：父类的对象赋给子类的引用，这是一个不安全的行为，需要强转。

```java
// 向上转换的安全写法
Animal animal = new Cat();
// 如果animla是对cat的引用，才能强转！
if (animal instanceof cat){
  Cat cat = (Cat)animal;
  // ...
}
```

## 3. 多态

C++：父类的指针或引用；子类重写父类的虚函数。

`Java`基本一样：父类的引用；子类重写父类的方法。

#### 静态绑定和动态绑定

静态绑定：例如函数重载，编译时就能确定调用的函数。

动态绑定：例如重写，需要运行时才能确定调用的具体函数。





