# 服务端涉及到的框架/库

### 1. `gflags`

`gflags` 是 `Google` 开发的一个开源库，用于 C++ 应用程序中命令行参数的声明、定义
和解析。

### 2. `gtest`

`GTest` 是一个跨平台的 C++单元测试框架，它提供了丰富的断言、致命和非致命判断、参数化等等测试所需的宏，以及全局测试，单元测试组件。  

 ### 3. `spdlog`

`spdlog` 是一个高性能、超快速、零配置的 C++ 日志库，它旨在提供简洁的 API 和丰
富的功能，同时保持高性能的日志记录。  它支持多种输出目标、格式化选项、线程安全以及==异步日志记录==。  （写日志毕竟涉及到磁盘I/O，同步写日志会阻塞主线程）

### 4. `etcd`

`etcd` 是一个 `golang` 编写的分布式、高可用的一致性键值存储系统，用于配置共享和==服务发现==等。

理解：租约，续租（保活），`Watcher`（监控某个 `key` 是否在租约内，并且在数据改变后发出回调）

### 5. `brpc`

`rpc`：远程过程调用

在后端各个服务之间使用`rpc`协议进行通信 ---- 使用`etcd`进行服务发现，然后通过`brpc`进行消息传递。

### 6. `ElasticSearch`(`ES`)

进行文档搜索的框架。区别于传统的关系型数据库，`ES`会对文档做==分词==，并建立==倒排索引==，以及其他一系列操作，可以使得对文档的关键词搜索非常快。

`elastic stack（ELK）`：`ElasticSearch`，`Logstash`，`Kibana`。`Logstash`用于数据抓取，`Kibana`是一个数据可视化的界面。

`ElasticSearch`默认端口：9200

`Kibana`默认端口：5601

[ElasticSearch (ES从入门到精通一篇就够了) - 不吃紫菜 - 博客园 (cnblogs.com)](https://www.cnblogs.com/buchizicai/p/17093719.html)

#### 6.1 `ES`核心概念

1. index--索引，类似关系型数据库中的  库
2. type--类型，类似关系型数据库中的  表；这个几乎不用了
3. field--字段，类似关系型数据库中的 字段，有整形，浮点，`boolean`，字符串等不同类型
4. `mapping`--映射，进行分词，建立倒排索引等一些列过程

### 7. `jsoncpp`

进行`json`序列化和反序列化操作。 

### 8.  `cpp-httplib`

一个轻量的用于搭建`http`客户端/服务器的库。

### 9. `Websocketpp`

一个用于搭建`Websocket`客户端/服务器的库。

`Websocket`也是基于`TCP`的网络协议，和`HTTP`不同，==`Websocket`可以使客户端和服务器保持长连接，并且允许服务器主动给客户端推送消息==。（`HTTP`无法保持长连接，当然`HTTP1.1`引入`keep-alive`机制保持长连接；并且`HTTP`是一问一答式的，服务器不能主动给客户端推送消息）。

在建立`Websocket`连接时首先肯定是`TCP`三次握手，然后建立`HTTP`连接，再使用`HTTP`协议协商建立`Websocket`连接，进行协议的切换。

### 10. `redis`

`key-value`式的内存级数据库。常用于缓存，分布式锁等。在该项目中用于 注册登录会话信息 的缓存和 验证码 的缓存。 

### 11. `ODB`

`C++`中的一个`ORM`框架。

`ORM: Object Relational Mapping`，对象关系映射，是一种程序设计技术，==用于实现面向对象编程语言中类对象和关系型数据库之间的转换映射。==

这样就在语言层面就无需处理数据库，表，列和SQL语句，只需要操作对象即可。

### 12. `RabbitMQ`

一个基于`AMQP(Advanced Message Queuing Protocol)`协议，使用`Erlang`编程语言实现的消息队列。

一些核心概念：==生产者， 消费者，发布/订阅，交换机，交换机类型（广播交换，直接交换--进行key的匹配，主题交换--进行规则匹配...），队列==。

![image-20240920115143137](E:\Note\项目\聊天软件项目\服务器部分\服务端涉及到的框架库.assets\image-20240920115143137.png)

 
