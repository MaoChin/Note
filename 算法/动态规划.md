# 动态规划

动态规划就是填表！！！ 

==确定状态表示  --> 找状态转移方程。==

一些细节问题：初始化，填表的顺序，返回值，空间优化......

## 1. 状态

根据题目要求，定义某个位置的值，代表一种特殊的含义。注意状态的==无后效性！==

### 1. 多状态`dp`

有些题目可能会根据分类创建多个`dp`表！！叫做多状态`dp`。

创建多个`dp`表  --> 创建二维数组 --> 二维`dp`！！！

针对多状态，需要进行==状态分析==，如股票买卖问题的状态分析：

![image-20231201175132737](E:\Note\算法\动态规划.assets\image-20231201175132737.png)

当问题逐渐复杂时，可能二维`dp` 也不能表示所有的状态！！这时就要上三维`dp`---股票买卖问题限制交易次数。

1. 第 `i` 天结束时的最大利润
2. 第 `i` 天的状态：买入状态/可交易状态/冻结状态
3. 第 `i` 天完成了几次交易

## 2. 状态转移方程

根据之前或之后的状态，得到当前状态的方程式。

## 3. 空间优化

一般空间优化都是 "滚动数组" 的思想。 

## 4. 初始化和边界问题

一种常用的技巧是给`dp`数组多开一个空间，这样有时可以省很多麻烦。

### 1. 初始化顺序

初始化就是保证填表的时候不越界！有可能是从前向后，==也有可能从后向前==！！不要认为只是从前向后。

## 5. 经典问题

1. 路径问题
2. "打家劫舍"问题
3. 股票问题(状态机)
4. 子数组问题(连续)
5. 子序列问题(不连续)
6. 回文串问题
7. 两个数组`dp`问题
8. 背包问题

注意子数组问题和子序列问题，子序列问题可以取原数组中==不连续的序列==，因此范围就要比子数组问题大了很多，也更加复杂一些！通常需要两层`for`循环(有些可以优化)。或者是==二维`dp`==。两个位置才能唯一确定前面的值(哈希优化)！

回文串问题一般要先用一个二维`dp`得到以`i`位置为起点，`j`位置为终点的子串是否是回文串，然后再进行其他的`dp`。

两个数组的`dp`问题也需要二维`dp`，其中，`dp[i][j]`表示`arr1[0, i]`和`arr2[0, j]`是否满足题目要求/或者满足题目要求的最大数。

背包问题情况非常多！！但是抓住基本的01背包，在01背包的基础上进行扩展。比如：

|              | 01背包问题(每种物品只有一个) | 完全背包问题(每种物品任意多) |
| ------------ | ---------------------------- | ---------------------------- |
| 背包不用装满 |                              |                              |
| 背包必须装满 |                              | 零钱兑换问题                 |
| 二维费用背包 | 多一个限制条件               |                              |





